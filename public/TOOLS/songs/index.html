<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <title>ntdMusic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <header>
    <div>
      <span><i class="fa-solid fa-music"></i></span> <span class="logoweb">ntdMUSIC</span>
      <span style="font-size: medium; color: rgba(255,255,255,0.5);"><span class="rauMa" onclick="alert('Báº¥m vÃ´ Ä‘Ã¢y lÃ m cÃ¡i chÃ³ gÃ¬??? Var háº£???')">36</span></span>
    </div>
    <div class="search-container">
      <input type="text" id="searchInput" class="search-input" placeholder="ğŸ” TÃ¬m theo tÃªn, ca sÄ©, sÃ¡ng tÃ¡c hoáº·c lá»i bÃ i hÃ¡t..." />
    </div>
    <div id="authButtons">
      <button class="btn btn-add" onclick="loginDialog.showModal()" id="btn-login" title="ÄÄƒng nháº­p">
        <i class="fa-solid fa-user"></i>
      </button>
    </div>
    <div id="userInfo" style="display: none; align-items: center; gap: 12px;">
      <span id="userDisplayName" style="font-size: 26px;"></span>
      <button class="btn btn-add" onclick="showViewProfile()" id="btn-info-sc" title="ThÃ´ng tin tÃ i khoáº£n">
        <i class="fa-solid fa-user"></i>
      </button>
      <button class="btn btn-add" onclick="handleLogout()" title="ÄÄƒng xuáº¥t">
        <i class="fa-solid fa-right-from-bracket"></i>
      </button>
      <button class="btn btn-add" onclick="toggleSidebar()" id="btn-menu" title="Menu">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>
  </header>

<!-- Sidebar Menu -->
<div id="sidebar" class="sidebar">
  <div class="sidebar-header">
    <h3>Menu</h3>
    <button class="btn-close-sidebar" onclick="toggleSidebar()">
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>
  <div class="sidebar-content">
    Song
    <button class="sidebar-item" id="btn-reload-sc" onclick="location.reload(); toggleSidebar();">
      <i class="fa-solid fa-arrow-rotate-right"></i>
      <span>LÃ m má»›i</span>
    </button>
    <button class="sidebar-item" id="btn-add-sc" onclick="addSongDialog.showModal(); toggleSidebar();">
      <i class="fa-solid fa-plus"></i>
      <span>ThÃªm bÃ i hÃ¡t</span>
    </button>
    Feature other
    <button class="sidebar-item" id="btn-youtube-sc" onclick="openYoutubeSearchDialog(); toggleSidebar();">
      <i class="fa-brands fa-youtube"></i>
      <span>TÃ¬m video YouTube</span>
    </button>
    <button class="sidebar-item" id="btn-hoiAI-sc" onclick="hoiAI(); toggleSidebar();">
      <i class="fa-solid fa-robot"></i>
      <span>Há»i AI</span>
    </button>
    <button class="sidebar-item" id="btn-home-sc" onclick="window.open('https://2937.vercel.app'); toggleSidebar();">
      <i class="fa-solid fa-house"></i>
      <span>Trang chá»§</span>
    </button>
    <button class="sidebar-item" id="btn-theme-sc" onclick="toggleTheme(); toggleSidebar();">
      <i class="fa-solid fa-moon" id="themeIconSidebar"></i>
      <span>Äá»•i theme</span>
    </button>
    Social
    <button class="sidebar-item" id="btn-rank-sc" onclick="openRankingDialog(); toggleSidebar();">
      <i class="fa-solid fa-ranking-star"></i>
      <span>Báº£ng xáº¿p háº¡ng</span>
    </button>
    <button class="sidebar-item" id="btn-streak-sc" onclick="checkStreak(); toggleSidebar();">
      <i class="fa-solid fa-fire"></i>
      <span id="streakText">Äiá»ƒm danh hÃ ng ngÃ y</span>
    </button>
    About
    <button class="sidebar-item" id="btn-guide-sc" onclick="openGuideDialog(); toggleSidebar();">
      <i class="fa-solid fa-circle-info"></i>
      <span>HÆ°á»›ng dáº«n sá»­ dá»¥ng</span>
    </button>
    <button class="sidebar-item" id="btn-updates-sc" onclick="openUpdatesDialog(); toggleSidebar();">
      <i class="fa-solid fa-bullhorn"></i>
      <span>ThÃ´ng tin cáº­p nháº­t</span>
    </button>
  </div>
</div>

<!-- Overlay -->
<div id="sidebar-overlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>

  <main>
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-icon">ğŸµ</div>
        <div class="stat-content">
          <div class="stat-label">Tá»•ng sá»‘ bÃ i hÃ¡t</div>
          <div class="stat-value" id="totalSongs">0</div>
        </div>
      </div>
    
      <!-- THÃŠM CARD STREAK Má»šI -->
      <div class="stat-card streak-card" onclick="checkStreak()" style="cursor: pointer;">
        <div class="stat-icon">ğŸ”¥</div>
        <div class="stat-content">
          <div class="stat-label" id="streakLabel">ChÆ°a cÃ³ streak</div>
          <div class="stat-value" id="streakValue">0 ngÃ y</div>
        </div>
      </div>
      
      <div class="stat-card mfy-card" id="mfyCard" onclick="showmfyDetail()" style="cursor: pointer;">
        <div class="stat-icon">â­</div>
        <div class="stat-content">
          <div class="stat-label">Music for YOU</div>
          <div class="stat-value" id="mfySong">---</div>
          <div class="mfy-lyric" id="mfyLyric"></div>
        </div>
      </div>
    </div>
    <table>
      <thead>
        <tr>
          <th>Avatar</th>
          <th>TÃªn bÃ i hÃ¡t</th>
          <th>Ca sÄ©</th>
          <th>SÃ¡ng tÃ¡c</th>
          <th>NgÃ y phÃ¡t hÃ nh</th>
          <th>Hot</th>
          <th>Tags</th>
          <th>Thao tÃ¡c</th>
        </tr>
      </thead>
      <tbody id="list"></tbody>
    </table>
  </main>
  <dialog id="lyricDialog">
    <button class="btn close" onclick="lyricDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2 id="dTitle"></h2>
    <div class="lyric-container">
      <div class="lyric-avatar">
        <img id="dAvatar" src="" alt="avatar" style="display: none" />
        <hr width="100%" color="white" style="border: none; height: 1px; margin: 32px 0; background-color: white; opacity: 1;">
        <div style="font-weight: 700; text-align: center; font-style: italic;">Nghe nháº¡c</div>
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Spotify_icon.svg/250px-Spotify_icon.svg.png" class="iconMXH" onclick="spotifyThismusic()" />
        <img src="https://dangcapdigital.vn/img/app/zingmp3-aszyd.png" class="iconMXH" onclick="zingmp3Thismusic()" />
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/NhacCuaTui_2022logo.png" class="iconMXH" onclick="nctThismusic()" />
        <button onclick="openSpotifyDialog()" style="
        width: 90%;
        padding: 12px 24px;
        background: linear-gradient(135deg, green, darkgreen);
        border: none;
        border-radius: 12px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        font-size: 16px;
        margin: 12px auto;
        display: block;
        transition: all 0.3s;
      " onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 25px lightgreen'" 
         onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
         <i class="fa-brands fa-spotify"></i> Nghe Nháº¡c TrÃªn Web
      </button>
        <hr width="100%" color="white" style="border: none; height: 1px; margin: 32px 0; background-color: white; opacity: 1;">
        <div style="font-weight: 700; text-align: center; font-style: italic;">Xem MV / Video</div>
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/ef/Youtube_logo.png" class="iconMXH" onclick="youtubeThismusic()" />
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiXN9xSEe8unzPBEQOeAKXd9Q55efGHGB9BA&s" class="iconMXH" onclick="facebookThismusic()" />
        <img src="https://p16-tiktokcdn-com.akamaized.net/obj/tiktok-obj/32f2ab89bf0d9acee8ff3021890559a7.png" class="iconMXH" onclick="tiktokThismusic()" />

  <button onclick="openYoutubeVideoDialog()" style="
    width: 90%;
    padding: 12px 24px;
    background: linear-gradient(135deg, #ff0000, #cc0000);
    border: none;
    border-radius: 12px;
    color: white;
    font-weight: 600;
    cursor: pointer;
    font-size: 16px;
    margin: 12px auto;
    display: block;
    transition: all 0.3s;
  " onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 25px rgba(255,0,0,0.4)'" 
     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
    <i class="fa-brands fa-youtube"></i> Xem Video TrÃªn Web
  </button>

      </div>
      <div class="lyric-content">
        <p id="dArtist" style="float: left;"></p>
        <p id="dDate"></p>
        <p id="dAddedBy" style="clear: both; opacity: 0.6; font-size: 14px; margin-top: 8px;"></p>
        <pre id="dLyric"></pre>
      </div>
    </div>
  </dialog>
  <dialog id="addSongDialog">
    <button class="btn close" onclick="addSongDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2>ThÃªm bÃ i hÃ¡t má»›i</h2>
    <form id="songForm">
      <div class="form-group">
        <a href="https://www.google.com/search?q=b%C3%A0i+h%C3%A1t+hot+nh%E1%BA%A5t+tiktok+hi%E1%BB%87n+t%E1%BA%A1i" target="_blank" class="goiy">Gá»£i Ã½</a>
        <label for="songName">TÃªn bÃ i hÃ¡t *</label>
        <input type="text" id="songName" placeholder="Nháº­p tÃªn bÃ i hÃ¡t" required />
        <div class="error" id="error-songName"></div>
      </div>
      <div class="form-group">
        <a href="#" class="goiy" onclick="timCasi()">KhÃ´ng biáº¿t tÃªn ca sÄ©?</a>
        <label for="artist">Ca sÄ© *</label>
        <input type="text" id="artist" placeholder="Nháº­p tÃªn ca sÄ©" required />
        <div class="error" id="error-artist"></div>
      </div>
      <div class="form-group">
        <a href="#" class="goiy" onclick="timSangtac()">KhÃ´ng biáº¿t ai sÃ¡ng tÃ¡c?</a>
        <label for="composer">SÃ¡ng tÃ¡c *</label>
        <input type="text" id="composer" placeholder="Nháº­p tÃªn ngÆ°á»i sÃ¡ng tÃ¡c" required />
        <div class="error" id="error-composer"></div>
      </div>
      <div class="form-group">
        <a href="#" class="goiy" onclick="timLinkbaihat()">TÃ¬m link bÃ i hÃ¡t</a>
        <label>Link YouTube (chá»‰ cáº§n khi tháº¥y ngÃ y phÃ¡t hÃ nh bá»‹ sai)</label>
        <div style="display:flex; gap:8px">
          <input type="url" id="youtubeLinkAdd" placeholder="https://www.youtube.com/watch?v=..." />
          <button type="button" class="btn" onclick="fetchYoutubeDate('add')" style="padding: 0 14px">
            ğŸ“…
          </button>
        </div>
      </div>

      <div class="form-group">
        <a href="#" class="goiy" onclick="timNgayphathanh()">KhÃ´ng biáº¿t ngÃ y phÃ¡t hÃ nh?</a>
        <label for="releaseDate">NgÃ y phÃ¡t hÃ nh *</label>
        <div style="display:flex; gap:8px">
          <input type="date" id="releaseDate" required />
          <button type="button" class="btn" title="Tá»± tÃ¬m ngÃ y phÃ¡t hÃ nh theo tÃªn bÃ i hÃ¡t" onclick="autoFindReleaseDate()" style="padding: 0 14px">
            ğŸ”
          </button>
        </div>

        <div class="error" id="error-releaseDate"></div>
      </div>
      <div class="form-group">
        <a href="#" onclick="timAvatar1()" class="goiy">TÃ¬m avatar</a>
        <label for="avatar">URL Avatar</label>
        <input type="url" id="avatar" placeholder="Nháº­p link/url cá»§a áº£nh" />
        <div class="error" id="error-avatar"></div>
      </div>
      <div class="form-group">
        <a href="#" class="goiy" onclick="timLoibaihat()">TÃ¬m lá»i bÃ i hÃ¡t</a>
        <label for="lyric">Lá»i bÃ i hÃ¡t</label>
        <textarea id="lyric" placeholder="Nháº­p lá»i bÃ i hÃ¡t Ä‘Ã£ sao chÃ©p"></textarea>
        <div class="error" id="error-lyric"></div>
      </div>

      <div class="form-group">
        <label>Tags (Chá»n cÃ¡c tag phÃ¹ há»£p)</label>
        <div class="tag-selector" id="tagSelector">
          <div class="tag-option" data-tag="Ballad">ğŸµ Ballad</div>
          <div class="tag-option" data-tag="Pop">ğŸ¤ Pop</div>
          <div class="tag-option" data-tag="Rock">ğŸ¸ Rock</div>
          <div class="tag-option" data-tag="Rap">ğŸ§ Rap/Hip-hop</div>
          <div class="tag-option" data-tag="EDM">ğŸ”Š EDM</div>
          <div class="tag-option" data-tag="Bolero">ğŸ» Bolero</div>
          <div class="tag-option" data-tag="Acoustic">ğŸ¼ Acoustic</div>
          <div class="tag-option" data-tag="Remix">ğŸ”„ Remix</div>
          <div class="tag-option" data-tag="Trending">ğŸ”¥ Trending</div>
          <div class="tag-option" data-tag="Chill">ğŸ˜Œ Chill</div>
        </div>
        <input type="hidden" id="selectedTags" value="">
      </div>

      <div class="form-group">
        <label for="addedBy">NgÆ°á»i thÃªm</label>
        <input type="text" id="addedBy" readonly style="background: #0f0f12; cursor: not-allowed; opacity: 0.7;" />
        <small style="color: #6b7280; font-size: 14px; margin-top: 4px; display: block;">
          ğŸ’¡ Tá»± Ä‘á»™ng láº¥y tá»« tÃ i khoáº£n Ä‘ang Ä‘Äƒng nháº­p
        </small>
      </div>

      <div class="form-group">
        <label for="adminCode">MÃ£ xÃ¡c minh Admin (tÃ¹y chá»n)</label>
        <input type="text" id="adminCode" placeholder="Nháº­p mÃ£ admin Ä‘á»ƒ tá»± Ä‘á»™ng xÃ¡c minh" />
        <div class="error" id="error-adminCode"></div>
        <small style="
                            color: #6b7280;
                            font-size: 14px;
                            margin-top: 4px;
                            display: block;
                        ">ğŸ’¡ Nháº­p mÃ£ admin Ä‘á»ƒ bÃ i hÃ¡t Ä‘Æ°á»£c xÃ¡c minh ngay láº­p
          tá»©c</small>
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-cancel" onclick="addSongDialog.close()">
          Há»§y
        </button>
        <button type="submit" class="btn btn-submit">
          ThÃªm bÃ i hÃ¡t
        </button>
      </div>
    </form>
  </dialog>

  <dialog id="editSongDialog">
    <button class="btn close" onclick="editSongDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2>Chá»‰nh sá»­a bÃ i hÃ¡t</h2>
    <form id="editSongForm">
      <div class="form-group">
        <label for="editSongName">TÃªn bÃ i hÃ¡t *</label>
        <input type="text" id="editSongName" required />
        <div class="error" id="error-editSongName"></div>
      </div>
      <div class="form-group">
        <label for="editArtist">Ca sÄ© *</label>
        <input type="text" id="editArtist" required />
        <div class="error" id="error-editArtist"></div>
      </div>
      <div class="form-group">
        <label for="editComposer">SÃ¡ng tÃ¡c *</label>
        <input type="text" id="editComposer" required />
        <div class="error" id="error-editComposer"></div>
      </div>
      <div class="form-group">
        <label for="editReleaseDate">NgÃ y phÃ¡t hÃ nh *</label>
        <input type="date" id="editReleaseDate" required />
        <div class="error" id="error-editReleaseDate"></div>
      </div>
      <div class="form-group">
        <a href="#" onclick="timAvatar()" class="goiy">TÃ¬m avatar</a>
        <label for="editAvatar">URL Avatar</label>
        <input type="url" id="editAvatar" />
        <div class="error" id="error-editAvatar"></div>
      </div>
      <div class="form-group">
        <label for="editLyric">Lá»i bÃ i hÃ¡t</label>
        <textarea id="editLyric"></textarea>
        <div class="error" id="error-editLyric"></div>
      </div>

      <div class="form-group">
        <label>Tags (Chá»n cÃ¡c tag phÃ¹ há»£p)</label>
        <div class="tag-selector" id="editTagSelector">
          <div class="tag-option" data-tag="Ballad">ğŸµ Ballad</div>
          <div class="tag-option" data-tag="Pop">ğŸ¤ Pop</div>
          <div class="tag-option" data-tag="Rock">ğŸ¸ Rock</div>
          <div class="tag-option" data-tag="Rap">ğŸ§ Rap/Hip-hop</div>
          <div class="tag-option" data-tag="EDM">ğŸ”Š EDM</div>
          <div class="tag-option" data-tag="Bolero">ğŸ» Bolero</div>
          <div class="tag-option" data-tag="Acoustic">ğŸ¼ Acoustic</div>
          <div class="tag-option" data-tag="Remix">ğŸ”„ Remix</div>
          <div class="tag-option" data-tag="Trending">ğŸ”¥ Trending</div>
          <div class="tag-option" data-tag="Chill">ğŸ˜Œ Chill</div>
        </div>
        <input type="hidden" id="editSelectedTags" value="">
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-cancel" onclick="editSongDialog.close()">
          Há»§y
        </button>
        <button type="submit" class="btn btn-submit">
          Cáº­p nháº­t bÃ i hÃ¡t
        </button>
      </div>
    </form>
  </dialog>

  <dialog id="loginDialog">
    <button class="btn close" onclick="loginDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2>ÄÄƒng nháº­p</h2>
    <form id="loginForm">
      <div class="form-group">
        <label for="loginEmail">Email *</label>
        <input type="email" id="loginEmail" required placeholder="example@email.com" />
      </div>
      <div class="form-group">
        <label for="loginPassword">Máº­t kháº©u *</label>
        <input type="password" id="loginPassword" required />
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-cancel" onclick="loginDialog.close()">Há»§y</button>
        <button type="submit" class="btn btn-submit">ÄÄƒng nháº­p</button>
      </div>
      <div style="text-align: center; margin-top: 16px;">
        <a href="#" class="goiy" onclick="event.preventDefault(); loginDialog.close(); registerDialog.showModal()">
          ChÆ°a cÃ³ tÃ i khoáº£n? ÄÄƒng kÃ½ ngay
        </a>
      </div>
    </form>
  </dialog>

  <dialog id="registerDialog">
    <button class="btn close" onclick="registerDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2>ÄÄƒng kÃ½ tÃ i khoáº£n</h2>
    <form id="registerForm">
      <div class="form-group">
        <label for="regDisplayName">TÃªn hiá»ƒn thá»‹ * (3~20 kÃ­ tá»±)</label>
        <input type="text" id="regDisplayName" required placeholder="Nguyá»…n VÄƒn A" minlength="3" maxlength="20"/>
        <div class="error" id="error-regDisplayName"></div>
      </div>
      <div class="form-group">
        <label for="regEmail">Email *</label>
        <input type="email" id="regEmail" required placeholder="example@email.com" />
        <div class="error" id="error-regEmail"></div>
      </div>
      <div class="form-group">
        <label for="regPhone">Sá»‘ Ä‘iá»‡n thoáº¡i *</label>
        <input type="tel" id="regPhone" required placeholder="0912345678" />
        <div class="error" id="error-regPhone"></div>
      </div>
      <div class="form-group">
        <label for="regPassword">Máº­t kháº©u *</label>
        <input type="password" id="regPassword" required placeholder="Tá»‘i thiá»ƒu 6 kÃ½ tá»±" />
        <div class="error" id="error-regPassword"></div>
      </div>
      <div class="form-group">
        <label for="regConfirmPassword">Nháº­p láº¡i máº­t kháº©u *</label>
        <input type="password" id="regConfirmPassword" required />
        <div class="error" id="error-regConfirmPassword"></div>
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-cancel" onclick="registerDialog.close()">Há»§y</button>
        <button type="submit" class="btn btn-submit">ÄÄƒng kÃ½</button>
      </div>
      <div style="text-align: center; margin-top: 16px;">
        <a href="#" class="goiy" onclick="event.preventDefault(); registerDialog.close(); loginDialog.showModal()">
          ÄÃ£ cÃ³ tÃ i khoáº£n? ÄÄƒng nháº­p
        </a>
      </div>
    </form>
  </dialog>

  <dialog id="viewProfileDialog">
    <button class="btn close" onclick="viewProfileDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2>ThÃ´ng tin tÃ i khoáº£n</h2>
    <div style="padding: 20px;">
      <div style="display: flex; padding: 12px; border-bottom: 1px solid #2a2a33;">
        <label style="flex: 0 0 200px; font-weight: 600; opacity: 0.7;">TÃªn hiá»ƒn thá»‹:</label>
        <span id="viewDisplayName"></span>
      </div>
      <div style="display: flex; padding: 12px; border-bottom: 1px solid #2a2a33;">
        <label style="flex: 0 0 200px; font-weight: 600; opacity: 0.7;">Email:</label>
        <span id="viewEmail"></span>
      </div>
      <div style="display: flex; padding: 12px; border-bottom: 1px solid #2a2a33;">
        <label style="flex: 0 0 200px; font-weight: 600; opacity: 0.7;">Sá»‘ Ä‘iá»‡n thoáº¡i:</label>
        <span id="viewPhone"></span>
      </div>
      <div style="display: flex; padding: 12px; border-bottom: 1px solid #2a2a33;">
        <label style="flex: 0 0 200px; font-weight: 600; opacity: 0.7;">Vai trÃ²:</label>
        <span id="viewRole"></span>
      </div>
      <div style="display: flex; padding: 12px; border-bottom: 1px solid #2a2a33;">
        <label style="flex: 0 0 200px; font-weight: 600; opacity: 0.7;">Lá»i nháº¯n: </label>
        <span>Qr Ä‘Æ°á»›i Ä‘Ã¢y lÃ  thÃ´ng tin liÃªn há»‡! KhÃ´ng pháº£i Qr chuyá»ƒn tiá»n hay thanh toÃ¡n nÃªn Ä‘á»«ng lo.</span>
      </div>
      <br>
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://www.facebook.com/nthdat.7" alt="QR Facebook" style="text-align: center;padding: 20px; background-color: white;" />
      <div style="margin-top: 24px; text-align: center;">
        <button class="btn btn-submit" onclick="openGopyDialog()" style="margin-right: 8px;">
          <i class="fa-solid fa-comment"></i> GÃ³p Ã½
        </button>
        <button class="btn btn-edit" onclick="openEditProfileDialog()">
          <i class="fa-solid fa-pen-to-square"></i> Chá»‰nh sá»­a thÃ´ng tin
        </button>
      </div>
    </div>
  </dialog>

  <dialog id="editProfileDialog">
    <button class="btn close" onclick="editProfileDialog.close()">
      <span style="font-size: 30px;" id="closeNew">+</span>
    </button>
    <h2>Chá»‰nh sá»­a thÃ´ng tin</h2>
    <form id="editProfileForm">
      <div class="form-group">
        <label for="editDisplayName">TÃªn hiá»ƒn thá»‹ * (3~20 kÃ­ tá»±)</label>
        <input type="text" id="editDisplayName" required minlength="3" maxlength="20">
        <div class="error" id="error-editDisplayName"></div>
      </div>

      <div class="form-group">
        <label for="editPhone">Sá»‘ Ä‘iá»‡n thoáº¡i *</label>
        <input type="tel" id="editPhone" required placeholder="0912345678">
        <div class="error" id="error-editPhone"></div>
      </div>

      <hr style="border: none; height: 1px; background-color: #2a2a33; margin: 24px 0;">
      <h3 style="margin-bottom: 16px;">Äá»•i máº­t kháº©u (tÃ¹y chá»n)</h3>
      <small style="color: #6b7280; display: block; margin-bottom: 16px;">
        ğŸ’¡ Chá»‰ Ä‘iá»n náº¿u báº¡n muá»‘n Ä‘á»•i máº­t kháº©u
      </small>

      <div class="form-group">
        <label for="oldPassword">Máº­t kháº©u cÅ©</label>
        <input type="password" id="oldPassword">
        <div class="error" id="error-oldPassword"></div>
      </div>

      <div class="form-group">
        <label for="newPassword">Máº­t kháº©u má»›i</label>
        <input type="password" id="newPassword" placeholder="Tá»‘i thiá»ƒu 6 kÃ½ tá»±">
        <div class="error" id="error-newPassword"></div>
      </div>

      <div class="form-group">
        <label for="confirmNewPassword">XÃ¡c nháº­n máº­t kháº©u má»›i</label>
        <input type="password" id="confirmNewPassword">
        <div class="error" id="error-confirmNewPassword"></div>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-cancel" onclick="editProfileDialog.close()">
          Há»§y
        </button>
        <button type="submit" class="btn btn-submit">
          LÆ°u thay Ä‘á»•i
        </button>
      </div>
    </form>
  </dialog>

  <dialog id="gopyDialog">
    <button class="btn close" onclick="gopyDialog.close()">
      <span style="font-size: 30px;">+</span>
    </button>
    <h2>GÃ³p Ã½ / Pháº£n há»“i</h2>
    <form id="gopyForm">
      <div class="form-group">
        <label for="gopyDisplayName">TÃªn cá»§a báº¡n</label>
        <input type="text" id="gopyDisplayName" readonly style="background: #0f0f12; cursor: not-allowed; opacity: 0.7;" />
      </div>
      
      <div class="form-group">
        <label for="gopyTieude">Loáº¡i gÃ³p Ã½ *</label>
        <select id="gopyTieude" required style="width: 100%; padding: 14px 18px; border: 2px solid var(--border-color); border-radius: 14px; background: rgba(255, 255, 255, 0.03); color: var(--text-primary); font-family: inherit; font-size: 16px;">
          <option value="" disabled selected>-- Chá»n loáº¡i gÃ³p Ã½ --</option>
          <option value="error">ğŸ› Error - BÃ¡o lá»—i</option>
          <option value="lag">â±ï¸ Lag - Hiá»‡u suáº¥t cháº­m</option>
          <option value="more">âœ¨ More - YÃªu cáº§u thÃªm tÃ­nh nÄƒng</option>
        </select>
        <div class="error" id="error-gopyTieude"></div>
      </div>

      <div class="form-group">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; text-transform: none; font-size: 15px;">
          <input type="checkbox" id="gopyWantReply" style="width: auto; cursor: pointer; accent-color: var(--accent-primary);">
          <span>ÄÄƒng kÃ½ nháº­n pháº£n há»“i qua Email</span>
        </label>
      </div>
      
      <div class="form-group" id="gopyEmailGroup" style="display: none;">
        <label for="gopyEmail">Email nháº­n pháº£n há»“i *</label>
        <input type="email" id="gopyEmail" placeholder="example@email.com" />
        <div class="error" id="error-gopyEmail"></div>
      </div>
      
      <div class="form-group">
        <label for="gopyNoidung">Ná»™i dung *</label>
        <textarea id="gopyNoidung" required placeholder="Nháº­p ná»™i dung gÃ³p Ã½ cá»§a báº¡n..." style="min-height: 200px;"></textarea>
        <div class="error" id="error-gopyNoidung"></div>
      </div>
      
      <div class="form-actions">
        <button type="button" class="btn btn-cancel" onclick="gopyDialog.close()">
          Há»§y
        </button>
        <button type="submit" class="btn btn-submit">
          Gá»­i gÃ³p Ã½
        </button>
      </div>
    </form>
  </dialog>

  <dialog id="rankingDialog">
    <button class="btn close" onclick="rankingDialog.close()">
      <span style="font-size:30px">+</span>
    </button>
  
    <h2>ğŸ† Báº£ng xáº¿p háº¡ng Ä‘Ã³ng gÃ³p</h2>
  
    <div style="padding: 24px">
      <ul id="rankingList"></ul>
      <hr>
      <div id="currentUserRank" style="margin-top:12px;font-weight:600"></div>
    </div>
  </dialog>

  <dialog id="userSongsDialog">
    <button class="btn close" onclick="userSongsDialog.close()">
      <span style="font-size: 30px;">+</span>
    </button>
    <h2 id="userSongsTitle">ğŸµ BÃ i hÃ¡t cá»§a <span id="userSongsName"></span></h2>
    
    <div style="padding: 24px;">
      <div id="userSongsStats" style="
        padding: 16px 20px;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.1));
        border: 1px solid var(--accent-primary);
        border-radius: 12px;
        margin-bottom: 20px;
        text-align: center;
        font-weight: 600;
      "></div>
      
      <div id="userSongsList" style="
        max-height: 500px;
        overflow-y: auto;
      "></div>
    </div>
  </dialog>

  <dialog id="guideDialog">
    <button class="btn close" onclick="guideDialog.close()">
      <span style="font-size: 30px;">+</span>
    </button>
    <h2>ğŸ“– HÆ°á»›ng dáº«n sá»­ dá»¥ng</h2>
    
    <div style="padding: 24px 32px 32px 32px; max-height: 70vh; overflow-y: auto;">
      <div id="guideContent"></div>
    </div>
  </dialog>

  <dialog id="youtubeVideoDialog">
    <button class="btn close" onclick="youtubeVideoDialog.close();">
    <span style="font-size: 30px;">+</span>
    </button>
    <h2><i class="fa-brands fa-youtube"></i> <span id="youtubeVideoSongName"></span></h2>
    
    <div style="padding: 24px 32px 32px 32px;">
      <div id="youtubeVideoIframe"></div>
    </div>
  </dialog>

  <dialog id="spotifyDialog">
    <button class="btn close" onclick="spotifyDialog.close();">
      <span style="font-size: 30px;">+</span>
    </button>
    <h2><i class="fa-brands fa-spotify"></i> <span id="spotifySongName"></span></h2>
    
    <div style="padding: 24px 32px 32px 32px;">
      <div id="spotifyIframe"></div>
    </div>
  </dialog>

  <br><br><br><br><br>
  
  <script src="js/main.js"></script>
  <script src="js/guide.js"></script>
  <script type="module" src="js/module.js"></script>
  <script type="module" src="js/update.js"></script>
</body>

</html>